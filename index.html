<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8" />
  <title>فلوچارت - سفارش ناموجود</title>
  <style>
    body {
      font-family: sans-serif;
      direction: rtl;
      padding: 20px;
      background: #fff;
      color: #333;
      margin: 0;
      line-height: 1.4;
    }
    .node {
      cursor: pointer;
      padding: 6px 12px;
      border: 1px solid;
      margin: 6px 0; /* فاصله عمودی بین هر نود */
      border-radius: 6px;
      color: white;
      display: inline-block; /* فقط به اندازه محتوا */
      max-width: fit-content;
      box-sizing: border-box;
      vertical-align: top; /* برای اینکه تراز عمودی بهتر باشه */
    }
    .depth-0 {
      background: #0077cc;
      border-color: #0077cc;
    }
    .depth-1 {
      background: #3399dd;
      border-color: #3399dd;
    }
    .depth-2 {
      background: #66b3e6;
      border-color: #66b3e6;
    }
    .depth-3 {
      background: #99ccee;
      border-color: #99ccee;
    }
    .depth-4 {
      background: #cce6f6;
      border-color: #cce6f6;
      color: #003344;
    }
    .children {
      display: none;
      margin-right: 20px;
      margin-bottom: 6px; /* کمی فاصله پایین‌تر بین بچه‌ها */
    }
    .node.open + .children {
      display: block;
    }
    .note-wrapper {
      display: none;
      margin-top: 6px;
    }
    .node.open + .note-wrapper {
      display: block;
    }
    .note {
      font-size: 0.9em;
      color: #000;
      background: #e0e0e0;
      padding: 8px;
      border-radius: 6px;
      display: inline-block;
      max-width: fit-content;
      box-sizing: border-box;
      margin: 0 0 6px 0;
      vertical-align: top;
    }
  </style>
</head>
<body>

  <div class="node depth-0" onclick="toggle(this)">بعد از سفارش گفتند ناموجود شده</div>
  <div class="children">

    <div class="node depth-1" onclick="toggle(this)">فروشگاه به روز نبودن قیمت/موجودی را تایید کرده و یا قصد بازگشت وجه دارد</div>
    <div class="children">

      <div class="node depth-2" onclick="toggle(this)">بازگشت وجه انجام نشده</div>
      <div class="children">
        <div class="node depth-3">کاربر جهت اعلام شماره کارت همکاری ندارد</div>
        <div class="node depth-3">بازگشت وجه هنوز انجام نشده</div>
        <div class="node depth-3" onclick="toggle(this)">بازگشت وجه انجام شده</div>
        <div class="note-wrapper">
          <div class="note">پیام «دلجویی از کاربر» در تیکت ارسال می‌شود.<br>وضعیت تیکت به «خاتمه یافته/تخلف فروشگاه» تغییر می‌کند.</div>
        </div>
      </div>

    </div>

    <div class="node depth-1" onclick="toggle(this)">فروشگاه پاسخگو نیست و وضعیت ارسال یا عودت وجه نامشخص است</div>
    <div class="children">
      <div class="node depth-2" onclick="toggle(this)">فروشگاه به روز نبودن قیمت/موجودی را تایید کرده و یا قصد بازگشت وجه دارد</div>
      <div class="note-wrapper">
        <div class="note">مراحل بازگشت وجه پیگیری می‌شود</div>
      </div>

      <div class="node depth-2" onclick="toggle(this)">فروشگاه پاسخگو نیست و وضعیت ارسال یا عودت وجه هنوز نامشخص است</div>
      <div class="note-wrapper">
        <div class="note">تماس با فروشگاه و درخواست اعلام وضعیت سفارش، ددلاین برای 1 روز بعد تنظیم می شود و اگر مجدد فروشگاه همکاری نداشته باشد غیرفعال می‌شود</div>
      </div>

      <div class="node depth-2" onclick="toggle(this)">ارسال کالا ادعا شده اما تحویل به شرکت پستی احراز نشده</div>
      <div class="note-wrapper">
        <div class="note">مراحل ارسال کالا پیگیری می‌شود</div>
      </div>

      <div class="node depth-2" onclick="toggle(this)">کالا به شرکت پستی تحویل داده شده</div>
      <div class="note-wrapper">
        <div class="note">مراحل ارسال کالا پیگیری می‌شود</div>
      </div>

      <div class="node depth-2" onclick="toggle(this)">کالا موجود شده</div>
      <div class="children">
        <div class="node depth-3">کاربر با ارسال کالا مخالف نیست</div>
        <div class="node depth-3">کاربر با ارسال کالا مخالف است</div>
      </div>
    </div>

  </div>

  <div class="node depth-0" onclick="toggle(this)">ارسال کالا ادعا شده اما تحویل به شرکت پستی احراز نشده</div>
  <div class="note-wrapper">
    <div class="note">مراحل ارسال کالا پیگیری می‌شود</div>
  </div>

  <div class="node depth-0" onclick="toggle(this)">کالا به شرکت پستی تحویل داده شده</div>
  <div class="note-wrapper">
    <div class="note">مراحل ارسال کالا پیگیری می‌شود</div>
  </div>

  <div class="node depth-0" onclick="toggle(this)">کاربر وجهی پرداخت نکرده</div>
  <div class="note-wrapper">
    <div class="note">پیام «بروز نبودن قیمت/موجودی و عدم پرداخت کاربر» در تیکت ارسال می‌شود. وضعیت تیکت به «رد شده» تغییر می‌کند.</div>
  </div>

  <div class="node depth-0" onclick="toggle(this)">کالا موجود شده</div>
  <div class="children">
    <div class="node depth-1">کاربر با ارسال کالا مخالف نیست</div>
    <div class="node depth-1">کاربر با ارسال کالا مخالف است</div>
  </div>

  <script>
    function toggle(el) {
      el.classList.toggle('open');
    }
  </script>
</body>
</html>
